{% extends 'interface/base.html' %} 
{% load static %}
{% block content %}  
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<section id="content">
    <p hidden id="folder_val">{{ folder_val }}</p>
    <div id="helper" class="helper">
        Sur cette page vous devez téléverser les fichiers sur lesquels vous voulez prédirer les ruptures. 
        Sur cette page, vous devez mettre les signaux sur lesquels vous vouleé prédirer les ruptures sous la forme de fichier <code>csv</code>. <br>
        Optionnel, vous avez la possibilité de téléverser des fichiers <code>json</code> qui contiennent les labels d'un signal (pour comparer avec la prédiction de ruptures).
        Le fichier <code>json</code> contenant les labels du signal <code>x.csv</code> doit s'appeler <code>x.true.json</code>.
        <a href="{% url 'interface:aide' %}" target="_blank">Cliquez ici pour avoir plus d'informations</a>
    </div>
    <h1 class="title">Pénalité</h1>
    <section id="predict_wrapper">
        <section id="penalite">
        </section>
        <section id = "file_input">
            <div class="predict_grid">
                <div class="wrapper_predict">
                    <form id="myform" method="post" enctype="multipart/form-data">
                        <header>Télécharger vos fichiers ici</header>
                        {% csrf_token %}
                        <input type="file" class="file-input" name="myfile" hidden accept=".csv, .json">
                        <img src="{% static 'interface/download.gif' %}" alt="download" />
                        <p>Parcourir les fichiers locaux</p>
                    </form>
                </div>
                <div class="validation done" id="prediction">Prédire</div>
            </div>
        </section>
    </section>
    <h1 class="title">Résultat</h1>
    <section id="result">
        <div id="label_predict"></div>
        <div id="myDiv" style="width: 900px; height: 500px;"></div>
        <div id="xcoords">
            <div id="left"></div>
            <div id="right"></div>
        </div>
    </section>
</section>      
<section id="loading">
    <div class="box">
        <div class="b b1"></div>
        <div class="b b2"></div>
    </div>
</section>
<script src="{% static 'interface/predict.js' %}" type="module"></script>
{% endblock %}